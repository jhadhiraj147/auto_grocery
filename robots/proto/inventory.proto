syntax = "proto3";

package inventory;

import "google/protobuf/timestamp.proto";

option go_package = "auto_grocery/inventory/proto;inventorypb";

service InventoryService {
  rpc ProcessCustomerOrder (ProcessCustomerOrderRequest) returns (ProcessCustomerOrderResponse);
  rpc RestockItemsOrder (RestockItemsOrderRequest) returns (RestockItemsOrderResponse);
  rpc ReportJobStatus (ReportJobStatusRequest) returns (ReportJobStatusResponse);
}

message ProcessCustomerOrderRequest {
  string order_id = 1;
  map<string, int32> items = 2;
}

message ProcessCustomerOrderResponse {
  bool success = 1;
  string message = 2;
}

message RestockItem {
  string sku = 1;
  string name = 2;
  string aisle_type = 3;
  int32 quantity = 4;
  google.protobuf.Timestamp mfd_date = 5;
  google.protobuf.Timestamp expiry_date = 6;
  double unit_cost = 7;
}

message RestockItemsOrderRequest {
  string order_id = 1;
  repeated RestockItem items = 2;
}

message RestockItemsOrderResponse {
  bool success = 1;
}

message ReportJobStatusRequest {
  string order_id = 1;
  string status = 2;
  map<string, int32> processed_items = 3;
  string order_type = 4; 
}

message ReportJobStatusResponse {
  bool success = 1;
}
